<div class="container-fluid my-2">
  @if (loading) {
    <cbc-ui-table-filter
      [filterItems]="filterItems"
      [(criteria)]="criteria"
      [originalCriteria]="originalCriteriaValue"
      (criteriaChange)="onCriteriaChange()"
      (reset)="resetFilter()"
      >
    </cbc-ui-table-filter>
  }
</div>
<div class="container-fluid mt-3">
  @if (loading) {
    <table class="table table-info table-striped text-center">
      <thead>
        @for (col of cols; track col) {
          <th>
            {{ col.displayName }}
          </th>
        }
        <th>Actions</th>
      </thead>
      <tbody>
        @for (record of records; track record) {
          <tr>
            @for (col of cols; track col) {
              <td>
                @if (col.template) {
                  <ng-container
              *ngTemplateOutlet="
                col.template;
                context: { $implicit: record[col.name] }
              "
                    >
                  </ng-container>
                }
                @if (!col.template) {
                  {{ record[col.name] }}
                }
              </td>
            }
            <td>
              <button
                class="btn btn-outline-success btn-sm"
                (click)="onDetails(record)"
                >
                Details
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>
